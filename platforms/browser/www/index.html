<!DOCTYPE html>
<html>
  <head>
    <title>Capture Photo</title>
    <meta name="viewport" content="width=device-width,height=device-height,initial-scale=1"/>
    <script type="text/javascript" charset="utf-8" src="cordova.js"></script>
	 <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" charset="utf-8">

    var pictureSource;   // picture source
    var destinationType; // sets the format of returned value 
	
    // Wait for PhoneGap to connect with the device
    //
    document.addEventListener("deviceready",onDeviceReady,false);
    // PhoneGap is ready to be used!
    //
    function onDeviceReady() {
        pictureSource=navigator.camera.PictureSourceType;
        destinationType=navigator.camera.DestinationType;
    }
    // Called when a photo is successfully retrieved
    //
   
	// Called when a photo is successfully retrieved
    //
    function onPhotoFileSuccess(imageData) {
      // Get image handle
      console.log(JSON.stringify(imageData));
      
   	  // Get image handle
      //
      var largeImage = document.getElementById('smallImage');
      // Unhide image elements
      //
      largeImage.style.display = 'block';
      // Show the captured photo
      // The inline CSS rules are used to resize the image
      //
      largeImage.src = imageData;
	  
		  $.ajax({
    type       : "POST",
    url        : "http://roman.almic.ee/echo/index.php",
    crossDomain: true,
    data       : {username : imageData},
    dataType   : 'json',
    success    : function(response) {
    },
    error      : function() {
                      
    }
});  

    }
    // Called when a photo is successfully retrieved
    //
    function onPhotoURISuccess(imageURI) {
      // Uncomment to view the image file URI 
      // console.log(imageURI);
      // Get image handle
      //
      var largeImage = document.getElementById('largeImage');
      // Unhide image elements
      //
      largeImage.style.display = 'block';
      // Show the captured photo
      // The inline CSS rules are used to resize the image
      //
      largeImage.src = imageURI;
	  
	  $.ajax({
    type       : "POST",
    url        : "http://roman.almic.ee/echo/index.php",
    crossDomain: true,
    data       : {username : imageURI},
    dataType   : 'json',
    success    : function(response) {
    },
    error      : function() {
                      
    }
});  

    }
    // A button will call this function
    //
   
    function capturePhotoWithFile() {
        navigator.camera.getPicture(onPhotoFileSuccess, onFail, { quality: 50, destinationType: Camera.DestinationType.FILE_URI });
    }
    function test()
	{
$.ajax({
    type       : "POST",
    url        : "http://roman.almic.ee/echo/index.php",
    crossDomain: true,
    data       : {username : 'subin', password : 'passwordx'},
    dataType   : 'json',
    success    : function(response) {
    },
    error      : function() {
                      
    }
});     
	}
   

    function onFail(message) {
      alert('Failed because: ' + message);
    }
    </script>
  </head>
  <body>
   
    <button onclick="capturePhotoWithFile();">Capture Photo With Image File URI</button> <br>
	 <button onclick="test();">Casd</button> <br>

   
    <img style="display:none;" id="largeImage" src="" />
  </body>
</html>